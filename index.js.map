{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport const getPhoto = function (dataName) {\n  const data = axios.get('', {\n    params: {\n      key: '49375112-dd0d1364feb3efc0ffe9630b6',\n      q: dataName,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n  return data;\n};\n","import SimpleLightbox from 'simplelightbox';\n\nexport const createGalleryMarkup = function ({\n  webformatURL: smallIMG,\n  largeImageURL: largeIMG,\n  tags: alt,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeIMG}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${smallIMG}\"\n        alt=\"${alt}\"\n      />\n    </a>\n   \n    <ul class = \"description-list\">\n        <li class=\"description\"><span>Likes</span> ${likes}</li>\n        <li class=\"description\"><span>Views</span> ${views}</li>\n        <li class=\"description\"><span>Comments</span> ${comments}</li>\n        <li class=\"description\"><span>Downloads</span> ${downloads}</li>\n        </ul>\n      \n  </li>`;\n};\n\nexport const createLightBox = function () {\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionDelay: 250,\n    captionsData: 'alt',\n  });\n  lightbox.refresh();\n};\n","import iziToast from 'izitoast';\nimport { getPhoto } from './js/pixabay-api';\nimport { createGalleryMarkup, createLightBox } from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  backdrop: document.querySelector('.backdrop'),\n};\n\nconst showLoader = () => {\n  refs.backdrop.classList.remove('is-hidden');\n};\n\nconst hideLoader = () => {\n  refs.backdrop.classList.add('is-hidden');\n};\n\nconst searchInput = function (event) {\n  event.preventDefault();\n  const dataName = event.currentTarget.elements['search-text'].value.trim();\n\n  if (dataName === '') {\n    alert('Please enter a valid data');\n    return;\n  }\n\n  showLoader();\n  getPhoto(dataName)\n    .then(({ data: { hits } }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          messageColor: '#fff',\n          close: false,\n          icon: 'x',\n          iconText: 'x',\n          iconColor: '#fff',\n          backgroundColor: '#ef4040',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          timeout: 10000,\n        });\n\n        refs.gallery.innerHTML = '';\n        return;\n      }\n      const galleryTemplate = hits\n        .map(img => createGalleryMarkup(img))\n        .join('');\n      refs.gallery.innerHTML = galleryTemplate;\n      createLightBox();\n      refs.form.reset();\n    })\n    .catch(error => {\n      iziToast.error({\n        messageColor: '#fff',\n        backgroundColor: '#ef4040',\n        position: 'topRight',\n        message: 'Oops! Something went wrong. Please try again later.',\n        timeout: 10000,\n      });\n      refs.gallery.innerHTML = '';\n    })\n    .finally(() => {\n      hideLoader();\n      refs.form.reset();\n    });\n};\nrefs.form.addEventListener('submit', searchInput);\n"],"names":["axios","getPhoto","dataName","createGalleryMarkup","smallIMG","largeIMG","alt","likes","views","comments","downloads","createLightBox","SimpleLightbox","refs","showLoader","hideLoader","searchInput","event","hits","iziToast","galleryTemplate","img","error"],"mappings":"owBAEAA,EAAM,SAAS,QAAU,2BAElB,MAAMC,EAAW,SAAUC,EAAU,CAU1C,OATaF,EAAM,IAAI,GAAI,CACzB,OAAQ,CACN,IAAK,qCACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,CAEH,ECbaC,EAAsB,SAAU,CAC3C,aAAcC,EACd,cAAeC,EACf,KAAMC,EACN,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,oCAE2BL,CAAQ;AAAA;AAAA;AAAA,eAG7BD,CAAQ;AAAA,eACRE,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA,qDAKmCC,CAAK;AAAA,qDACLC,CAAK;AAAA,wDACFC,CAAQ;AAAA,yDACPC,CAAS;AAAA;AAAA;AAAA,QAIlE,EAEaC,EAAiB,UAAY,CACvB,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,IACd,aAAc,KAClB,CAAG,EACQ,QAAO,CAClB,EClCMC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,SAAU,SAAS,cAAc,WAAW,CAC9C,EAEMC,EAAa,IAAM,CACvBD,EAAK,SAAS,UAAU,OAAO,WAAW,CAC5C,EAEME,EAAa,IAAM,CACvBF,EAAK,SAAS,UAAU,IAAI,WAAW,CACzC,EAEMG,EAAc,SAAUC,EAAO,CACnCA,EAAM,eAAc,EACpB,MAAMf,EAAWe,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAEnE,GAAIf,IAAa,GAAI,CACnB,MAAM,2BAA2B,EACjC,MACD,CAEDY,IACAb,EAASC,CAAQ,EACd,KAAK,CAAC,CAAE,KAAM,CAAE,KAAAgB,CAAM,CAAA,IAAO,CAC5B,GAAIA,EAAK,SAAW,EAAG,CACrBC,EAAS,MAAM,CACb,aAAc,OACd,MAAO,GACP,KAAM,IACN,SAAU,IACV,UAAW,OACX,gBAAiB,UACjB,SAAU,WACV,QACE,2EACF,QAAS,GACnB,CAAS,EAEDN,EAAK,QAAQ,UAAY,GACzB,MACD,CACD,MAAMO,EAAkBF,EACrB,IAAIG,GAAOlB,EAAoBkB,CAAG,CAAC,EACnC,KAAK,EAAE,EACVR,EAAK,QAAQ,UAAYO,EACzBT,IACAE,EAAK,KAAK,OAChB,CAAK,EACA,MAAMS,GAAS,CACdH,EAAS,MAAM,CACb,aAAc,OACd,gBAAiB,UACjB,SAAU,WACV,QAAS,sDACT,QAAS,GACjB,CAAO,EACDN,EAAK,QAAQ,UAAY,EAC/B,CAAK,EACA,QAAQ,IAAM,CACbE,IACAF,EAAK,KAAK,OAChB,CAAK,CACL,EACAA,EAAK,KAAK,iBAAiB,SAAUG,CAAW"}